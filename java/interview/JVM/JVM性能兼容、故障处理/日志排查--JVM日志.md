看在前面
====

* GC(Allocation Failure)引发的一些JVM知识点梳理：https://blog.csdn.net/zc19921215/article/details/83029952

线上GC日志样例
------
```java
OpenJDK 64-Bit Server VM (25.192-b9) for linux-amd64 JRE (1.8.0_192-b9), built on Jul  8 2019 09:37:10 by "admin" with gcc 4.4.7
Memory: 4k page, physical 8388608k(7775048k free), swap 0k(0k free)
CommandLine flags: -XX:+CMSClassUnloadingEnabled -XX:CMSFullGCsBeforeCompaction=5 -XX:CMSInitiatingOccupancyFraction=75 -XX:CompressedClassSpaceSize=348127232 -XX:+DisableExplicitGC -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/home/admin/logs -XX:InitialHeapSize=6442450944 -XX:+ManagementServer -XX:MaxHeapSize=6442450944 -XX:MaxMetaspaceSize=356515840 -XX:MaxNewSize=3221225472 -XX:MaxTenuringThreshold=6 -XX:MetaspaceSize=356515840 -XX:NewSize=3221225472 -XX:OldPLABSize=16 -XX:+PrintGC -XX:+PrintGCDateStamps -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:ThreadStackSize=256 -XX:+UseCMSCompactAtFullCollection -XX:+UseCMSInitiatingOccupancyOnly -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseConcMarkSweepGC -XX:+UseParNewGC 
2021-09-23T19:42:35.659+0800: 3.740: [GC (Allocation Failure) 2021-09-23T19:42:35.659+0800: 3.740: [ParNew: 2516608K->17451K(2831168K), 0.0275186 secs] 2516608K->17451K(5976896K), 0.0276535 secs] [Times: user=0.08 sys=0.02, real=0.03 secs] 
2021-09-23T19:42:39.816+0800: 7.897: [GC (Allocation Failure) 2021-09-23T19:42:39.816+0800: 7.897: [ParNew: 2534059K->84152K(2831168K), 0.0711330 secs] 2534059K->84152K(5976896K), 0.0713023 secs] [Times: user=0.22 sys=0.05, real=0.07 secs] 
2021-09-23T19:42:43.525+0800: 11.606: [GC (Allocation Failure) 2021-09-23T19:42:43.525+0800: 11.606: [ParNew: 2600760K->119008K(2831168K), 0.0896209 secs] 2600760K->119008K(5976896K), 0.0898073 secs] [Times: user=0.30 sys=0.05, real=0.09 secs] 
2021-09-23T19:42:47.144+0800: 15.225: [GC (Allocation Failure) 2021-09-23T19:42:47.144+0800: 15.225: [ParNew: 2635616K->121038K(2831168K), 0.0764184 secs] 2635616K->121038K(5976896K), 0.0765742 secs] [Times: user=0.28 sys=0.02, real=0.08 secs] 
2021-09-23T19:42:50.494+0800: 18.575: [GC (Allocation Failure) 2021-09-23T19:42:50.495+0800: 18.575: [ParNew: 2637646K->160744K(2831168K), 0.1132699 secs] 2637646K->160744K(5976896K), 0.1134235 secs] [Times: user=0.42 sys=0.03, real=0.11 secs] 
2021-09-23T19:42:54.235+0800: 22.315: [GC (Allocation Failure) 2021-09-23T19:42:54.235+0800: 22.315: [ParNew: 2677352K->161630K(2831168K), 0.1485772 secs] 2677352K->161630K(5976896K), 0.1487376 secs] [Times: user=0.51 sys=0.04, real=0.15 secs] 
2021-09-23T19:42:57.108+0800: 25.188: [GC (Allocation Failure) 2021-09-23T19:42:57.108+0800: 25.188: [ParNew: 2678238K->239331K(2831168K), 0.1964267 secs] 2678238K->258159K(5976896K), 0.1966584 secs] [Times: user=0.50 sys=0.06, real=0.20 secs] 
2021-09-23T19:43:14.727+0800: 42.807: [GC (Allocation Failure) 2021-09-23T19:43:14.727+0800: 42.807: [ParNew: 2755939K->193575K(2831168K), 0.1773148 secs] 2774767K->284207K(5976896K), 0.1776710 secs] [Times: user=0.56 sys=0.07, real=0.18 secs] 
2021-09-23T19:43:17.072+0800: 45.152: [GC (Allocation Failure) 2021-09-23T19:43:17.072+0800: 45.153: [ParNew: 2710183K->209820K(2831168K), 0.1196176 secs] 2800815K->308506K(5976896K), 0.1199131 secs] [Times: user=0.36 sys=0.03, real=0.12 secs] 
2021-09-23T19:43:34.640+0800: 62.720: [GC (Allocation Failure) 2021-09-23T19:43:34.640+0800: 62.721: [ParNew: 2726428K->229449K(2831168K), 0.2216102 secs] 2825114K->332645K(5976896K), 0.2220327 secs] [Times: user=0.58 sys=0.04, real=0.22 secs] 
2021-09-23T20:27:37.116+0800: 2705.196: [GC (Allocation Failure) 2021-09-23T20:27:37.116+0800: 2705.197: [ParNew: 2746057K->256472K(2831168K), 0.1387422 secs] 2849253K->374458K(5976896K), 0.1391980 secs] [Times: user=0.42 sys=0.01, real=0.14 secs] 
2021-09-23T22:05:27.207+0800: 8575.287: [GC (Allocation Failure) 2021-09-23T22:05:27.207+0800: 8575.288: [ParNew: 2773080K->193022K(2831168K), 0.1901374 secs] 2891066K->351105K(5976896K), 0.1906167 secs] [Times: user=0.52 sys=0.01, real=0.19 secs] 
2021-09-23T23:46:01.117+0800: 14609.198: [GC (Allocation Failure) 2021-09-23T23:46:01.118+0800: 14609.198: [ParNew: 2709630K->213691K(2831168K), 0.2092120 secs] 2867713K->378712K(5976896K), 0.2097231 secs] [Times: user=0.46 sys=0.00, real=0.21 secs] 
2021-09-24T01:30:03.989+0800: 20852.070: [GC (Allocation Failure) 2021-09-24T01:30:03.990+0800: 20852.070: [ParNew: 2730299K->158632K(2831168K), 0.1714797 secs] 2895320K->389009K(5976896K), 0.1718862 secs] [Times: user=0.42 sys=0.03, real=0.17 secs] 
2021-09-24T03:11:18.271+0800: 26926.352: [GC (Allocation Failure) 2021-09-24T03:11:18.272+0800: 26926.352: [ParNew: 2675240K->125071K(2831168K), 0.1015010 secs] 2905617K->359453K(5976896K), 0.1019638 secs] [Times: user=0.24 sys=0.00, real=0.10 secs] 
2021-09-24T04:55:05.576+0800: 33153.657: [GC (Allocation Failure) 2021-09-24T04:55:05.577+0800: 33153.657: [ParNew: 2641679K->106952K(2831168K), 0.1151239 secs] 2876061K->346336K(5976896K), 0.1156349 secs] [Times: user=0.24 sys=0.00, real=0.12 secs] 
2021-09-24T06:40:11.647+0800: 39459.727: [GC (Allocation Failure) 2021-09-24T06:40:11.647+0800: 39459.728: [ParNew: 2623560K->91227K(2831168K), 0.1127783 secs] 2862944K->344403K(5976896K), 0.1132815 secs] [Times: user=0.25 sys=0.00, real=0.12 secs] 
2021-09-24T08:24:30.634+0800: 45718.714: [GC (Allocation Failure) 2021-09-24T08:24:30.634+0800: 45718.715: [ParNew: 2607835K->99272K(2831168K), 0.1145694 secs] 2861011K->352729K(5976896K), 0.1150425 secs] [Times: user=0.19 sys=0.00, real=0.11 secs] 
2021-09-24T10:10:04.917+0800: 52052.998: [GC (Allocation Failure) 2021-09-24T10:10:04.917+0800: 52052.998: [ParNew: 2615880K->90772K(2831168K), 0.0971603 secs] 2869337K->344380K(5976896K), 0.0976457 secs] [Times: user=0.19 sys=0.00, real=0.10 secs] 
2021-09-24T11:52:57.107+0800: 58225.187: [GC (Allocation Failure) 2021-09-24T11:52:57.107+0800: 58225.188: [ParNew: 2607380K->95391K(2831168K), 0.1277031 secs] 2860988K->349086K(5976896K), 0.1283298 secs] [Times: user=0.23 sys=0.00, real=0.13 secs] 
2021-09-24T13:38:24.918+0800: 64552.999: [GC (Allocation Failure) 2021-09-24T13:38:24.918+0800: 64552.999: [ParNew: 2611999K->89700K(2831168K), 0.0903960 secs] 2865694K->344448K(5976896K), 0.0909739 secs] [Times: user=0.19 sys=0.00, real=0.09 secs] 
2021-09-24T15:22:17.721+0800: 70785.802: [GC (Allocation Failure) 2021-09-24T15:22:17.722+0800: 70785.802: [ParNew: 2606308K->103722K(2831168K), 0.1048171 secs] 2861056K->358479K(5976896K), 0.1053967 secs] [Times: user=0.20 sys=0.00, real=0.10 secs] 
2021-09-24T17:08:09.604+0800: 77137.685: [GC (Allocation Failure) 2021-09-24T17:08:09.605+0800: 77137.685: [ParNew: 2620330K->78261K(2831168K), 0.0907509 secs] 2875087K->333022K(5976896K), 0.0913028 secs] [Times: user=0.18 sys=0.00, real=0.09 secs] 
2021-09-24T18:53:01.723+0800: 83429.804: [GC (Allocation Failure) 2021-09-24T18:53:01.723+0800: 83429.804: [ParNew: 2594869K->94173K(2831168K), 0.1338091 secs] 2849630K->348944K(5976896K), 0.1345230 secs] [Times: user=0.23 sys=0.00, real=0.13 secs] 
2021-09-24T20:38:55.863+0800: 89783.944: [GC (Allocation Failure) 2021-09-24T20:38:55.863+0800: 89783.944: [ParNew: 2610781K->78064K(2831168K), 0.0824645 secs] 2865552K->332845K(5976896K), 0.0829645 secs] [Times: user=0.17 sys=0.00, real=0.08 secs] 
2021-09-24T22:23:25.878+0800: 96053.958: [GC (Allocation Failure) 2021-09-24T22:23:25.878+0800: 96053.959: [ParNew: 2594672K->94391K(2831168K), 0.1130217 secs] 2849453K->349239K(5976896K), 0.1137098 secs] [Times: user=0.21 sys=0.00, real=0.12 secs] 
2021-09-25T00:09:16.324+0800: 102404.404: [GC (Allocation Failure) 2021-09-25T00:09:16.324+0800: 102404.405: [ParNew: 2610999K->78520K(2831168K), 0.0794204 secs] 2865847K->333372K(5976896K), 0.0798758 secs] [Times: user=0.17 sys=0.00, real=0.08 secs] 
2021-09-25T01:54:28.031+0800: 108716.111: [GC (Allocation Failure) 2021-09-25T01:54:28.031+0800: 108716.112: [ParNew: 2595128K->94468K(2831168K), 0.1211648 secs] 2849980K->349820K(5976896K), 0.1218708 secs] [Times: user=0.21 sys=0.00, real=0.12 secs] 
2021-09-25T03:39:06.076+0800: 114994.157: [GC (Allocation Failure) 2021-09-25T03:39:06.076+0800: 114994.157: [ParNew: 2611076K->89036K(2831168K), 0.0898220 secs] 2866428K->344390K(5976896K), 0.0904097 secs] [Times: user=0.17 sys=0.00, real=0.09 secs] 
2021-09-25T05:24:01.881+0800: 121289.962: [GC (Allocation Failure) 2021-09-25T05:24:01.882+0800: 121289.962: [ParNew: 2605644K->84867K(2831168K), 0.0972823 secs] 2860998K->340233K(5976896K), 0.0977474 secs] [Times: user=0.19 sys=0.00, real=0.10 secs] 
2021-09-25T07:10:02.263+0800: 127650.343: [GC (Allocation Failure) 2021-09-25T07:10:02.263+0800: 127650.344: [ParNew: 2601475K->78810K(2831168K), 0.0841202 secs] 2856841K->334264K(5976896K), 0.0846504 secs] [Times: user=0.18 sys=0.00, real=0.08 secs] 
2021-09-25T08:55:08.489+0800: 133956.569: [GC (Allocation Failure) 2021-09-25T08:55:08.489+0800: 133956.570: [ParNew: 2595418K->94665K(2831168K), 0.1015073 secs] 2850872K->350121K(5976896K), 0.1019893 secs] [Times: user=0.19 sys=0.00, real=0.11 secs] 
2021-09-25T10:41:12.598+0800: 140320.679: [GC (Allocation Failure) 2021-09-25T10:41:12.598+0800: 140320.679: [ParNew: 2611273K->89131K(2831168K), 0.0858262 secs] 2866729K->344727K(5976896K), 0.0863372 secs] [Times: user=0.17 sys=0.00, real=0.09 secs] 
2021-09-25T12:26:33.057+0800: 146641.137: [GC (Allocation Failure) 2021-09-25T12:26:33.057+0800: 146641.138: [ParNew: 2605739K->94495K(2831168K), 0.1189063 secs] 2861335K->350101K(5976896K), 0.1195445 secs] [Times: user=0.22 sys=0.00, real=0.12 secs] 
2021-09-25T14:12:20.684+0800: 152988.764: [GC (Allocation Failure) 2021-09-25T14:12:20.684+0800: 152988.765: [ParNew: 2611103K->78537K(2831168K), 0.0809746 secs] 2866709K->334846K(5976896K), 0.0814598 secs] [Times: user=0.17 sys=0.00, real=0.08 secs] 
2021-09-25T15:57:07.101+0800: 159275.182: [GC (Allocation Failure) 2021-09-25T15:57:07.102+0800: 159275.182: [ParNew: 2595145K->93650K(2831168K), 0.0913474 secs] 2851454K->349966K(5976896K), 0.0917438 secs] [Times: user=0.17 sys=0.00, real=0.09 secs] 
2021-09-25T17:43:16.625+0800: 165644.706: [GC (Allocation Failure) 2021-09-25T17:43:16.625+0800: 165644.706: [ParNew: 2610258K->77923K(2831168K), 0.0751973 secs] 2866574K->334240K(5976896K), 0.0755362 secs] [Times: user=0.16 sys=0.00, real=0.08 secs] 
2021-09-25T19:28:52.376+0800: 171980.457: [GC (Allocation Failure) 2021-09-25T19:28:52.376+0800: 171980.457: [ParNew: 2594531K->93276K(2831168K), 0.0829019 secs] 2850848K->349602K(5976896K), 0.0832616 secs] [Times: user=0.15 sys=0.00, real=0.09 secs] 
2021-09-25T21:14:58.192+0800: 178346.273: [GC (Allocation Failure) 2021-09-25T21:14:58.192+0800: 178346.273: [ParNew: 2609884K->77888K(2831168K), 0.0777590 secs] 2866210K->334215K(5976896K), 0.0781503 secs] [Times: user=0.16 sys=0.00, real=0.08 secs] 
2021-09-25T23:00:05.621+0800: 184653.702: [GC (Allocation Failure) 2021-09-25T23:00:05.622+0800: 184653.702: [ParNew: 2594496K->93367K(2831168K), 0.1270273 secs] 2850823K->349694K(5976896K), 0.1278241 secs] [Times: user=0.22 sys=0.00, real=0.13 secs] 
2021-09-26T00:46:03.948+0800: 191012.029: [GC (Allocation Failure) 2021-09-26T00:46:03.948+0800: 191012.029: [ParNew: 2609975K->78254K(2831168K), 0.0726378 secs] 2866302K->334583K(5976896K), 0.0729990 secs] [Times: user=0.16 sys=0.00, real=0.08 secs] 
2021-09-26T02:29:47.925+0800: 197236.006: [GC (Allocation Failure) 2021-09-26T02:29:47.926+0800: 197236.006: [ParNew: 2594862K->103615K(2831168K), 0.1115523 secs] 2851191K->359946K(5976896K), 0.1120859 secs] [Times: user=0.18 sys=0.00, real=0.11 secs] 
2021-09-26T04:15:45.138+0800: 203593.219: [GC (Allocation Failure) 2021-09-26T04:15:45.139+0800: 203593.219: [ParNew: 2620223K->89964K(2831168K), 0.0821307 secs] 2876554K->346297K(5976896K), 0.0825245 secs] [Times: user=0.16 sys=0.00, real=0.09 secs] 
2021-09-26T06:01:01.881+0800: 209909.961: [GC (Allocation Failure) 2021-09-26T06:01:01.881+0800: 209909.962: [ParNew: 2606572K->94698K(2831168K), 0.1236787 secs] 2862905K->351031K(5976896K), 0.1241257 secs] [Times: user=0.19 sys=0.00, real=0.12 secs] 
2021-09-26T07:47:07.193+0800: 216275.274: [GC (Allocation Failure) 2021-09-26T07:47:07.193+0800: 216275.274: [ParNew: 2611306K->89617K(2831168K), 0.0898767 secs] 2867639K->346038K(5976896K), 0.0903294 secs] [Times: user=0.18 sys=0.00, real=0.09 secs] 
2021-09-26T09:32:27.953+0800: 222596.034: [GC (Allocation Failure) 2021-09-26T09:32:27.953+0800: 222596.034: [ParNew: 2606225K->94414K(2831168K), 0.1200061 secs] 2862646K->350920K(5976896K), 0.1205524 secs] [Times: user=0.21 sys=0.00, real=0.12 secs] 
2021-09-26T11:18:23.488+0800: 228951.568: [GC (Allocation Failure) 2021-09-26T11:18:23.488+0800: 228951.568: [ParNew: 2611022K->79438K(2831168K), 0.0784285 secs] 2867528K->335996K(5976896K), 0.0788215 secs] [Times: user=0.16 sys=0.00, real=0.08 secs] 
2021-09-26T13:03:43.235+0800: 235271.315: [GC (Allocation Failure) 2021-09-26T13:03:43.235+0800: 235271.316: [ParNew: 2596046K->83948K(2831168K), 0.1202749 secs] 2852604K->340972K(5976896K), 0.1210131 secs] [Times: user=0.24 sys=0.00, real=0.12 secs] 
2021-09-26T14:50:04.212+0800: 241652.293: [GC (Allocation Failure) 2021-09-26T14:50:04.212+0800: 241652.293: [ParNew: 2600556K->81496K(2831168K), 0.0804385 secs] 2857580K->338777K(5976896K), 0.0808063 secs] [Times: user=0.16 sys=0.00, real=0.08 secs] 
2021-09-26T16:35:27.212+0800: 247975.293: [GC (Allocation Failure) 2021-09-26T16:35:27.212+0800: 247975.293: [ParNew: 2598104K->89676K(2831168K), 0.1152634 secs] 2855385K->346958K(5976896K), 0.1157695 secs] [Times: user=0.20 sys=0.00, real=0.11 secs] 
2021-09-26T18:21:04.788+0800: 254312.868: [GC (Allocation Failure) 2021-09-26T18:21:04.788+0800: 254312.869: [ParNew: 2606284K->81645K(2831168K), 0.1010246 secs] 2863566K->338928K(5976896K), 0.1016492 secs] [Times: user=0.20 sys=0.00, real=0.11 secs] 
2021-09-26T20:06:48.625+0800: 260656.706: [GC (Allocation Failure) 2021-09-26T20:06:48.626+0800: 260656.706: [ParNew: 2598253K->98941K(2831168K), 0.1181018 secs] 2855536K->356224K(5976896K), 0.1186520 secs] [Times: user=0.21 sys=0.00, real=0.12 secs]
```

以其中一行GC日志为例解释GC日志代表的含义

```
2021-09-23T19:42:35.659+0800: 3.740: [GC (Allocation Failure) 2021-09-23T19:42:35.659+0800: 3.740: [ParNew: 2516608K->17451K(2831168K), 0.0275186 secs] 2516608K->17451K(5976896K), 0.0276535 secs] [Times: user=0.08 sys=0.02, real=0.03 secs] 
```
