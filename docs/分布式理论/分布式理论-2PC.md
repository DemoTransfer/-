看在前面
------

* <a href="https://juejin.im/post/6844903621495095309">分布式理论(三) - 2PC协议</a>

由于BASE理论需要在一致性和可用性方面做出权衡，因此涌现了很多关于一致性的算法和协议。其中比较著名的有二阶提交协议（2 Phase Commitment Protocol），三阶提交协议（3 Phase Commitment Protocol）和Paxos算法。

本文要介绍的2PC协议，分为两个阶段提交一个事务。并通过协调者和各个参与者的配合，实现分布式一致性。

![2pc-1]()

两个阶段事务提交协议，由协调者和参与者共同完成。

|  角色   | XA概念  | 作用  |
|  ----  | ----  |----  |
| 协调者  | 事物管理器 |协调各个参与者，对分布式事务进行提交或回滚 |
| 参与者  | 资源管理器 |分布式集群中的节点 |

